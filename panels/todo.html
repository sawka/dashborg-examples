<app ui="dashborg">
  <h1>Todo App</h1>
  <div class="row">
    <d-select bindvalue="$state.todotype" placeholder="Todo Type" style="width:150px">
      <d-option value="personal">Personal</d-option>
      <d-option value="work">Work</d-option>
    </d-select>
    <d-input style="width: 300px" bindvalue="$state.newtodo"/>
    <d-button class-button="primary" handler="$.errors = null; /@app:add-todo; $state.newtodo = null;" onerrorhandler="$.errors = @error.message">Add Todo Item</d-button>
  </div>
  <d-error title="Submit Error" data.bindpath="$.errors" class="compact" style="min-width: 300px; max-width: 500px;"/>
  <d-data query="/@app:get-todo-list" output.bindpath="$.todos"/>
  <d-table bind="$.todos" style="max-width: 1000px">
    <d-col width="50px" label="Id" bind=".Id"/>
    <d-col width="200px" label="Type" bind=".TodoType"/>
    <d-col width="400px" label="Item" bind=".Item"/>
    <d-col width="100px" label="Done">
      <d-checkbox readonly bindvalue=".Done" onchangehandler="/@app:mark-todo-done(.Id)"/>
    </d-col>
    <d-col width="200px" label="Actions">
      <d-button handler="/@app:remove-todo(.Id)">Remove</d-button>
    </d-col>
  </d-table>
</app>


